<!DOCTYPE html>
<html>
    <head>
        <script>
                function main() {
                    var canvas = document.getElementById("cnv");
                    var context = canvas.getContext("2d");

                    var benchmark = location.search;
                    
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    time(drawCircles, context);
                }

                function time(func, context) {
                    for (j = 0; j < 100; j++) {
                        setTimeout(function() {
                            var start = new Date().getTime();
                            func(1000, context);
                            var end = new Date().getTime();
                        
                            console.log(end - start);
                        }, 0);
                    }
                }

                function drawCircles(num, ctx) {
                    var x;
                    var y;
                    var col;
                    for (i = 0; i < num; i++) {
                        x = Math.floor(Math.random() * window.innerWidth);
                        y = Math.floor(Math.random() * window.innerHeight);
                        switch (i % 3) {
                            case 0:
                                col = "red";
                                break;
                            case 1:
                                col = "blue";
                                break;
                            case 2:
                                col = "green";
                                break;
                        }

                        ctx.beginPath();
                        ctx.fillStyle = col;
                        ctx.arc(x, y, 10, 0, 2 * Math.PI, false);
                        ctx.closePath();
                        ctx.fill();
                    }
                }
        </script>
        <style>
            body {
                margin: 0px;
                padding: 0px;
            }
        </style>
    </head>
    <body onload="main()">
        <canvas id="cnv" width="100" height="100"></canvas>
    </body>
</html>
